(this["webpackJsonpway-of-the-samurai"]=this["webpackJsonpway-of-the-samurai"]||[]).push([[3],{244:function(t,e,a){t.exports={photo:"ProfileInfo_photo__3FOy3",description:"ProfileInfo_description__1bJdT"}},245:function(t,e,a){t.exports={form:"MyPosts_form__16HMr"}},246:function(t,e,a){t.exports={post:"Post_post__3kPnM",avatar:"Post_avatar__2STH9"}},248:function(t,e,a){"use strict";a.r(e);var s=a(3),r=a.n(s),n=a(7),c=a(17),u=a(0),o=a(244),i=a.n(o),p=a(1);var j=function(t){var e=Object(u.useState)(t.status),a=Object(c.a)(e,2),s=a[0],r=a[1],n=Object(u.useState)(!1),o=Object(c.a)(n,2),i=o[0],j=o[1];return Object(u.useEffect)((function(){r(t.status)}),[t.status]),Object(p.jsx)(p.Fragment,{children:i?Object(p.jsx)("input",{autoFocus:!0,onBlur:function(){j(!1),i!==t.status&&t.updateStatus(s)},onChange:function(t){r(t.currentTarget.value)},type:"text",value:s}):Object(p.jsx)("div",{children:Object(p.jsx)("span",{onDoubleClick:function(){j(!0)},children:t.status||"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0443\u0441\u0442"})})})},l=function(t){var e;return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:i.a.photo,src:"https://c.wallhere.com/photos/51/ec/landscape-81752.jpg!d",alt:"main-img"}),Object(p.jsx)("h1",{className:i.a.description,children:null===(e=t.profile)||void 0===e?void 0:e.fullName}),Object(p.jsx)(j,{status:t.status,updateStatus:t.updateStatus})]})},f=a(68),b=a(245),d=a.n(b),h=a(246),x=a.n(h);var O=function(t){return Object(p.jsxs)("div",{className:x.a.post,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:x.a.avatar,src:"https://images.pexels.com/photos/510469/pexels-photo-510469.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",alt:""}),Object(p.jsxs)("span",{children:["Likes: ",t.likeCount]})]}),Object(p.jsx)("p",{children:t.text})]})},m=a(26),v=function(t){var e=t.PostData.map((function(t){return Object(p.jsx)(O,{id:t.id,likeCount:t.likeCount,text:t.text},t.id)})),a=Object(m.e)({initialValues:{textarea:""},onSubmit:function(e){t.addPost(e.textarea),a.resetForm()}});return Object(p.jsxs)("div",{className:d.a.posts,children:["My posts",Object(p.jsxs)("form",{onSubmit:a.handleSubmit,className:d.a.form,children:[Object(p.jsx)("textarea",{id:"textarea",name:"textarea",onChange:a.handleChange,value:a.values.textarea}),Object(p.jsx)("button",{type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),e]})},g=a(21),S=Object(g.b)((function(t){return{PostData:t.profilePage.PostData}}),{addPost:f.a})(v),P=function(t){return Object(p.jsxs)("div",{children:[Object(p.jsx)(l,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(p.jsx)(S,{})]})},_=a(5),k=a(47),y=a(28),w=a(33);a(62);e.default=Object(y.c)(Object(g.b)((function(t){return{authId:t.auth.userId,profile:t.profilePage.profile,status:t.profilePage.status}}),{getProfile:f.c,getStatus:f.d,updateStatus:f.e}),_.f)((function(t){var e=Object(u.useState)(!0),a=Object(c.a)(e,2),s=a[0],o=a[1],i=Object(u.useState)(!1),j=Object(c.a)(i,2),l=j[0],f=j[1];return Object(u.useEffect)(Object(n.a)(r.a.mark((function e(){var a,c,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(){return(u=Object(n.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.getProfile(a),t.getStatus(a)]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(t){return u.apply(this,arguments)},s&&o(!1),a=t.match.params.userId){e.next=9;break}if(a=t.authId){e.next=9;break}return t.history.push("/login"),e.abrupt("return");case 9:Object(w.a)(c,f,[+a]);case 10:case"end":return e.stop()}}),e)}))),[t.match.params.userId]),l||s?Object(p.jsx)(k.a,{}):Object(p.jsx)(P,{profile:t.profile,status:t.status,updateStatus:t.updateStatus})}))}}]);
//# sourceMappingURL=3.42f9ab8e.chunk.js.map