{"version":3,"sources":["redux/reducers/dialogs-reducer.js","components/Sidebar/Sidebar.module.css","api/api.js","reportWebVitals.js","components/Sidebar/Sidebar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","assets/img/user.jpg","components/Users/User/User.jsx","components/Users/Users.jsx","utils/objects-helper.js","redux/reducers/users-reducer.js","redux/selectors/users-selectors.js","components/common/Paginator/Paginator.jsx","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/reducers/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/reducers/app-reducer.js","redux/reducers/sidebar-reducer.js","redux/redux-store.js","components/App/App.jsx","index.js","components/Header/Header.module.css","utils/withFetching.js","components/Users/User/User.module.css","components/Login/Login.module.css","assets/img/loader.svg","components/common/Preloader/Preloader.jsx","hoc/withSuspense.js","components/Users/Users.module.css","components/common/Paginator/Paginator.module.css","redux/reducers/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogsData","id","name","messagesData","message","isMy","sendMessage","text","type","dialogsReducer","state","action","newMessage","v1","module","exports","instance","axios","create","baseURL","withCredentials","headers","UsersAPI","getUsers","pageNumber","pageSize","get","then","response","data","follow","post","resultCode","unFollow","delete","AuthAPI","auth","login","email","password","remember","logOut","ProfileAPI","getProfileInfo","getStatus","updateStatus","status","put","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Sidebar","className","Classes","aside","item","to","activeClassName","active","News","Music","Settings","User","photos","followed","useState","isFetching","setFetching","container","avatarBlock","src","small","userPhoto","alt","disabled","onClick","withFetching","info","nameAndStatus","Users","users","usersListContainer","map","u","updateObjectInArray","array","objPropName","elementParam","newObjectProps","element","SET_USERS","FOLLOW","UNFOLLOW","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","usersData","totalUsersCount","currentPage","acceptFollow","acceptUnFollow","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","result","usersReducer","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","Paginator","totalItemsCount","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginationBlock","filter","p","selectedPage","compose","connect","requestUsers","page","items","totalCount","isFirstRender","setIsFirstRender","useEffect","Preloader","Header","isAuth","profile","header","logoBlock","navBlock","loginBLock","fullName","SET_USER_DATA","SET_USER_PROFILE_DATA","SET_AUTH","SET_ERROR","userId","setUserData","setUserProfileData","setAuth","setError","error","userData","Promise","all","profileData","authReducer","props","LoginFormAuth","messages","join","initialValues","validationSchema","Yup","max","required","onSubmit","values","isSubmitting","form","htmlFor","component","Login","INITIALIZED_SUCCESS","initialized","appReducer","friends","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","sidebar","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","Store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","React","lazy","ProfileContainer","AppContainer","initializeApp","path","render","withSuspense","SamuraiJSApp","basename","process","store","ReactDOM","document","getElementById","func","params","style","display","margin","loaderPhoto","Component","Suspense","fallback","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","PostData","likeCount","addPost","setStatusAC","getProfile","newPost"],"mappings":"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","file":"static/js/main.84b66836.chunk.js","sourcesContent":["import {v1} from \"uuid\";\r\n\r\nconst SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogsData: [\r\n        {id: 1, name: 'Anton'},\r\n        {id: 2, name: 'Dima'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n    ],\r\n    messagesData: [\r\n        {id: 1, message: 'Hi', isMy: false},\r\n        {id: 2, message: 'Hi', isMy: true},\r\n        {id: 3, message: 'How are you?', isMy: false},\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let newMessage = {\r\n                id: v1(),\r\n                message: action.text,\r\n                isMy: true\r\n            }\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, newMessage],\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessage = (text) => ({type: SEND_MESSAGE, text})\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"Sidebar_aside__PTcLi\",\"item\":\"Sidebar_item__3nKwi\",\"active\":\"Sidebar_active__gQGJA\",\"friendsContainer\":\"Sidebar_friendsContainer__3EE6q\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '4e70ea14-87f8-403e-9a3c-6012dce2b89c'},\r\n});\r\n\r\nexport const UsersAPI = {\r\n    getUsers(pageNumber = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${pageNumber}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`).then(response => response.data.resultCode);\r\n    },\r\n    unFollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response => response.data.resultCode);\r\n    }\r\n}\r\n\r\nexport const AuthAPI = {\r\n    auth() {\r\n        return instance.get('auth/me/').then(response => response.data);\r\n    },\r\n    login(email, password, remember = false) {\r\n        return instance.post('auth/login', {email, password, remember}).then(response => response.data);\r\n    },\r\n    logOut() {\r\n        return instance.delete('auth/login');\r\n    }\r\n}\r\n\r\nexport const ProfileAPI = {\r\n    getProfileInfo(id) {\r\n        return instance.get(`profile/${id}`).then(response => response.data)\r\n    },\r\n    getStatus(id) {\r\n        return instance.get(`profile/status/${id}`).then(response => response.data);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Classes from './Sidebar.module.css';\r\n\r\nconst Sidebar = () => {\r\n\treturn (\r\n\t\t<aside className={Classes.aside}>\r\n\t\t\t<div className={Classes.item}><NavLink to='/profile' activeClassName={Classes.active}>Profile</NavLink></div>\r\n\t\t\t<div className={Classes.item}><NavLink to='/users' activeClassName={Classes.active}>Users</NavLink></div>\r\n\t\t\t<div className={Classes.item}><NavLink to='/dialogs' activeClassName={Classes.active}>Messages</NavLink></div>\r\n\t\t\t<div className={Classes.item}><NavLink to='/news' activeClassName={Classes.active}>News</NavLink></div>\r\n\t\t\t<div className={Classes.item}><NavLink to='/music' activeClassName={Classes.active}>Music</NavLink></div>\r\n\t\t\t<div className={Classes.item}><NavLink to='/settings' activeClassName={Classes.active}>Settings</NavLink></div>\r\n\t\t</aside>\r\n\t);\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\n\r\nconst News = function () {\r\n\treturn <>News</>\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Music = function () {\r\n\treturn <>Music</>\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\n\r\nconst Settings = function () {\r\n\treturn <>Settings</>\r\n}\r\n\r\nexport default Settings;","export default __webpack_public_path__ + \"static/media/user.89565353.jpg\";","import React, {useState} from 'react';\r\nimport Classes from './User.module.css';\r\nimport userPhoto from '../../../assets/img/user.jpg';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {withFetching} from \"../../../utils/withFetching\";\r\n\r\nfunction User({id, name, status, photos, followed, follow, unFollow}) {\r\n\r\n    const [isFetching, setFetching] = useState(false);\r\n\r\n    const buttonFollowHandler = () => {\r\n        followed ? withFetching(unFollow, setFetching, [id]) : withFetching(follow, setFetching, [id])\r\n    }\r\n\r\n    return (\r\n        <div className={Classes.container}>\r\n            <div className={Classes.avatarBlock}>\r\n                <NavLink to={`/profile/${id}`}>\r\n                    <img src={photos.small ? photos.small : userPhoto} alt=\"\"/>\r\n                </NavLink>\r\n                <button disabled={isFetching}\r\n                        onClick={buttonFollowHandler}\r\n                        className={Classes.follow}>{followed ? 'Unfollow' : 'Follow'}</button>\r\n            </div>\r\n            <div className={Classes.info}>\r\n                <div className={Classes.nameAndStatus}>\r\n                    <div>\r\n                        {name}\r\n                    </div>\r\n                    <div>\r\n                        {status}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport Classes from \"./Users.module.css\";\r\nimport User from \"./User/User\";\r\n\r\nfunction Users({users, follow, unFollow}) {\r\n\r\n    return (\r\n        <div className={Classes.container}>\r\n            <div className={Classes.usersListContainer}>\r\n                {\r\n                    users.map(u => <User id={u.id}\r\n                                         key={u.id}\r\n                                         photos={u.photos}\r\n                                         name={u.name}\r\n                                         status={u.status}\r\n                                         followed={u.followed}\r\n\r\n                                         follow={follow}\r\n                                         unFollow={unFollow}\r\n                    />)\r\n                }\r\n            </div>\r\n\r\n            <button>Show More</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Users;","export const updateObjectInArray = (array, objPropName, elementParam, newObjectProps) => {\r\n    return array.map(element => {\r\n        if (element[objPropName] === elementParam) {\r\n            return {...element, ...newObjectProps};\r\n        }\r\n        return element;\r\n    })\r\n}","import {UsersAPI} from \"../../api/api\";\r\nimport {updateObjectInArray} from \"../../utils/objects-helper\";\r\n\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\n\r\nlet initialState = {\r\n    usersData: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n}\r\n\r\nfunction usersReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, 'id', action.id, {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                usersData: updateObjectInArray(state.usersData, 'id', action.id, {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                usersData: [...action.users]\r\n            }\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const acceptFollow = (id) => ({type: FOLLOW, id});\r\nexport const acceptUnFollow = (id) => ({type: UNFOLLOW, id});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount});\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(setCurrentPage(page));\r\n    const data = await UsersAPI.getUsers(page, pageSize)\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n    const result = await apiMethod(id);\r\n    if (result === 0) {\r\n        dispatch(actionCreator(id));\r\n    }\r\n    return result\r\n}\r\n\r\nexport const follow = (id) => (dispatch) => {\r\n    return followUnfollowFlow(dispatch, id, UsersAPI.follow, acceptFollow);\r\n}\r\n\r\nexport const unFollow = (id) => (dispatch) => {\r\n    return followUnfollowFlow(dispatch, id, UsersAPI.unFollow, acceptUnFollow);\r\n}\r\n\r\nexport default usersReducer;","export const getUsers = (state) => {\r\n    return state.usersPage.usersData;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}","import React, {useState} from 'react';\r\nimport Classes from \"./Paginator.module.css\";\r\n\r\nfunction Paginator({totalItemsCount, pageSize, onPageChange, currentPage, portionSize}) {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n\r\n    for (let i = 1; i < pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber,] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return (\r\n        <div className={Classes.paginationBlock}>\r\n            {portionNumber === 1 ? false : <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>Prev</button>}\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(pageNumber => {\r\n                return <span\r\n                    key={pageNumber}\r\n                    onClick={() => {\r\n                        onPageChange(pageNumber)\r\n                    }}\r\n                    className={currentPage === pageNumber ? Classes.selectedPage : ''}>{pageNumber}</span>\r\n            })}\r\n            {portionNumber === portionCount ? false : <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }\r\n            }>Next</button>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Paginator;","import React, {useEffect, useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Users from './Users';\r\nimport {follow, requestUsers, unFollow,} from '../../redux/reducers/users-reducer';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/selectors/users-selectors\";\r\nimport {withFetching} from \"../../utils/withFetching\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nfunction UsersContainer({\r\n                            requestUsers,\r\n                            currentPage,\r\n                            pageSize,\r\n                            users,\r\n                            totalUsersCount,\r\n                            follow,\r\n                            unFollow\r\n                        }) {\r\n\r\n    const [isFetching, setFetching] = useState(false);\r\n    const [isFirstRender, setIsFirstRender] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (isFirstRender) setIsFirstRender(false)\r\n        withFetching(requestUsers, setFetching, [currentPage, pageSize])\r\n    }, [])\r\n\r\n    const onPageChange = async (pageNumber) => {\r\n        await withFetching(requestUsers, setFetching, [pageNumber, pageSize])\r\n    }\r\n\r\n    return <>\r\n        <Paginator\r\n            totalItemsCount={totalUsersCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={onPageChange}\r\n            portionSize={10}\r\n        />\r\n        {isFetching || isFirstRender ? <Preloader/> :\r\n            <Users\r\n                users={users}\r\n\r\n                follow={follow}\r\n                unFollow={unFollow}\r\n            />}\r\n    </>\r\n\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    requestUsers,\r\n}))(UsersContainer)\r\n\r\n","import React from \"react\";\r\nimport Classes from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = ({isAuth, login, logOut, profile}) => {\r\n    return (\r\n        <header className={Classes.header}>\r\n            <div className={Classes.logoBlock}>\r\n                <img src=\"https://im0-tub-by.yandex.net/i?id=58b9c9b7af5f19fe14b2fee9cf12b88e&n=13\" alt=\"logo\"/>\r\n            </div>\r\n            <div className={Classes.navBlock}>\r\n                {isAuth && login ?\r\n                    <>\r\n                        <NavLink className={Classes.loginBLock} to={'/profile'}>{profile?.fullName}</NavLink>\r\n                        <button className={Classes.loginBLock} onClick={() => {\r\n                            logOut()\r\n                        }}>Quit\r\n                        </button>\r\n                    </>\r\n                    : <NavLink className={Classes.loginBLock} to={'/login'}>Log in</NavLink>}\r\n\r\n\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {AuthAPI, ProfileAPI} from \"../../api/api\";\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\nconst SET_USER_PROFILE_DATA = 'auth/SET-USER-PROFILE-DATA';\r\nconst SET_AUTH = 'auth/SET-AUTH';\r\nconst SET_ERROR = 'auth/SET-ERROR';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    profile: null,\r\n    isFetching: true,\r\n    isAuth: false,\r\n}\r\n\r\nfunction authReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                userId: action.userId,\r\n                email: action.email,\r\n                login: action.login,\r\n            }\r\n        case SET_USER_PROFILE_DATA:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case SET_AUTH:\r\n            return {\r\n                ...state,\r\n                isAuth: action.isAuth,\r\n            }\r\n        case SET_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.error,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (userId, email, login) => ({\r\n    type: SET_USER_DATA,\r\n    userId,\r\n    email,\r\n    login,\r\n})\r\nexport const setUserProfileData = (profile) => ({\r\n    type: SET_USER_PROFILE_DATA,\r\n    profile,\r\n})\r\nexport const setAuth = (isAuth) => ({\r\n    type: SET_AUTH,\r\n    isAuth,\r\n})\r\nexport const setError = (error) => ({\r\n    type: SET_ERROR,\r\n    error,\r\n})\r\n\r\nexport const auth = () => async (dispatch) => {\r\n    const data = await AuthAPI.auth();\r\n    if (data.resultCode === 0) {\r\n        const userData = data.data;\r\n        await Promise.all([\r\n            dispatch(setUserData(userData.id, userData.email, userData.login)),\r\n            dispatch(setAuth(true)),\r\n        ])\r\n        const profileData = await ProfileAPI.getProfileInfo(userData.id);\r\n        await dispatch(setUserProfileData(profileData))\r\n    }\r\n}\r\n\r\nsetUserProfileData()\r\nexport const login = ({email, password, remember}) => async (dispatch) => {\r\n    const data = await AuthAPI.login(email, password, remember)\r\n    if (data.resultCode === 0) {\r\n        dispatch(auth());\r\n        dispatch(setError(''));\r\n    } else {\r\n        dispatch(setError(data.messages.join()));\r\n    }\r\n    return data;\r\n}\r\nexport const logOut = () => async (dispatch) => {\r\n    await AuthAPI.logOut();\r\n    await dispatch(setAuth(false));\r\n    dispatch(setUserData(null, null, null, null));\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logOut} from \"../../redux/reducers/auth-reducer\";\r\n\r\nfunction HeaderContainer(props) {\r\n    return (\r\n        <Header {...props}/>\r\n    );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        profile: state.auth.profile,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, {logOut})(HeaderContainer);","import React from 'react';\r\nimport Classes from './Login.module.css';\r\nimport {Formik, Form, Field, ErrorMessage} from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {login} from \"../../redux/reducers/auth-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginFormAuth/>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst LoginForm = ({isAuth, error, login}) => {\r\n    return isAuth ?\r\n        <Redirect to={'/profile'}/> :\r\n        <Formik\r\n            initialValues={{email: '', password: '', remember: false}}\r\n            validationSchema={Yup.object({\r\n                email: Yup.string()\r\n                    .max(50, 'Must be 50 characters or less')\r\n                    .email('Invalid email address')\r\n                    .required('Required'),\r\n                password: Yup.string().required('Required'),\r\n            })}\r\n            onSubmit={async (values) => {\r\n                await login(values);\r\n            }}\r\n        >\r\n            {({isSubmitting}) => (\r\n                <Form className={Classes.form}>\r\n                    {error && <div className={Classes.error}>{error}</div>}\r\n                    <label htmlFor=\"email\">Login</label>\r\n                    <Field name='email' type=\"text\"/>\r\n                    <ErrorMessage name=\"email\" component=\"div\" className={Classes.error}/>\r\n\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <Field name=\"password\" type=\"password\"/>\r\n                    <ErrorMessage name=\"password\" component=\"div\" className={Classes.error}/>\r\n\r\n                    <Field name=\"remember\" type=\"checkbox\"/>\r\n                    <button type=\"submit\" disabled={isSubmitting}>Login</button>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        error: state.auth.error,\r\n    }\r\n}\r\n\r\nconst LoginFormAuth = connect(mapStateToProps,\r\n    {\r\n        login\r\n    }\r\n)(LoginForm);\r\n\r\nexport default Login;\r\n\r\n\r\n","import {auth} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nfunction appReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccessed = () => ({\r\n    type: INITIALIZED_SUCCESS,\r\n})\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    await dispatch(auth());\r\n\r\n    dispatch(initializedSuccessed());\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: 'Sveta'\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Dima'\r\n        },\r\n    ]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./reducers/profile-reducer\";\r\nimport dialogsReducer from \"./reducers/dialogs-reducer\";\r\nimport sidebarReducer from \"./reducers/sidebar-reducer\";\r\nimport usersReducer from \"./reducers/users-reducer\";\r\nimport authReducer from \"./reducers/auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport appReducer from \"./reducers/app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst Store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default Store;","import React, {useEffect, Suspense} from \"react\";\r\nimport './App.css';\r\nimport {HashRouter, Route} from \"react-router-dom\";\r\nimport Sidebar from \"./../Sidebar/Sidebar\";\r\nimport News from \"./../News/News\"\r\nimport Music from \"./../Music/Music\"\r\nimport Settings from \"./../Settings/Settings\"\r\nimport UsersContainer from \"../Users/UsersContainer\";\r\nimport HeaderContainer from \"../Header/HeaderContainer\";\r\nimport LoginPage from \"../Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp} from \"../../redux/reducers/app-reducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Store from \"../../redux/redux-store\";\r\nimport {withSuspense} from \"../../hoc/withSuspense\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('../Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('../Profile/ProfileContainer'));\r\n\r\nfunction App(props) {\r\n\r\n    useEffect(() => {\r\n        props.initializeApp();\r\n    }, [])\r\n\r\n    return <>\r\n        {\r\n            props.initialized ?\r\n                <div className='app_wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Sidebar/>\r\n                    <main>\r\n                        <Route path='/login' render={() => <LoginPage/>}/>\r\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                        <Route path='/users' render={() => <UsersContainer/>}/>\r\n\r\n                        <Route path='/news' component={News}/>\r\n                        <Route path='/music' component={Music}/>\r\n                        <Route path='/settings' component={Settings}/>\r\n                    </main>\r\n                </div> :\r\n                <Preloader/>\r\n        }\r\n    </>\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        initialized: state.app.initialized\r\n    }\r\n}\r\n\r\nconst AppContainer = connect(mapStateToProps,\r\n    {\r\n        initializeApp\r\n    }\r\n)(App);\r\n\r\nconst SamuraiJSApp = (props) =>\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={Store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n\r\nexport default SamuraiJSApp;","import './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from \"./components/App/App\";\r\n\r\nReactDOM.render(<SamuraiJSApp/>, document.getElementById('root'));\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1aaZY\",\"logoBlock\":\"Header_logoBlock__1gp57\",\"navBlock\":\"Header_navBlock__142M4\",\"loginBLock\":\"Header_loginBLock__uenKp\"};","export async function withFetching(func, setFetching, params = []) {\r\n    setFetching(true);\r\n    await func(...params);\r\n    setFetching(false)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"User_container__V9h_Z\",\"avatarBlock\":\"User_avatarBlock__1acnA\",\"follow\":\"User_follow__2fbYP\",\"nameAndStatus\":\"User_nameAndStatus__37AOV\",\"info\":\"User_info__3EfeE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__3nE9j\",\"error\":\"Login_error__9QKVB\"};","export default __webpack_public_path__ + \"static/media/loader.b57ed06f.svg\";","import React from 'react';\r\nimport loaderPhoto from \"../../../assets/img/loader.svg\";\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <img style={{display: 'block', margin: '0 auto'}} src={loaderPhoto}/>\r\n    );\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => <React.Suspense fallback={''}>\r\n        <Component {...props}/>\r\n    </React.Suspense>\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Users_container__A-y3J\",\"usersListContainer\":\"Users_usersListContainer__B3bk1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationBlock\":\"Paginator_paginationBlock__1JghB\",\"selectedPage\":\"Paginator_selectedPage__266y4\"};","import {ProfileAPI} from \"../../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst DELETE_POST = 'profile/DELETE-POST';\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'profile/SET-STATUS';\r\n\r\nlet initialState = {\r\n    PostData: [\r\n        {id: 1, likeCount: 5, text: 'lorem1'},\r\n        {id: 2, likeCount: 6, text: 'lorem2'},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 456,\r\n                text: action.text,\r\n                likeCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                PostData: [...state.PostData, newPost],\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                PostData: state.PostData.filter(post => post.id !== action.id),\r\n            }\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const addPost = (text) => ({type: ADD_POST, text})\r\nexport const deletePost = (id) => ({type: DELETE_POST, id})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatusAC = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getProfile = (id) => async (dispatch) => {\r\n    const data = await ProfileAPI.getProfileInfo(id);\r\n    dispatch(setUserProfile(data));\r\n    return data;\r\n}\r\n\r\nexport const getStatus = (id) => async (dispatch) => {\r\n    const result = await ProfileAPI.getStatus(id);\r\n    dispatch(setStatusAC(result));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const result = await ProfileAPI.updateStatus(status);\r\n    if (result.data.resultCode === 0) {\r\n        dispatch(setStatusAC(status));\r\n    }\r\n}\r\n\r\n\r\nexport default profileReducer;"],"sourceRoot":""}